(function(a){a.fn.backgroundCanvas=function(){a(this).each(function(){var e=a(this);a.browser.version=a.browser.msie&&parseInt(a.browser.version)==6&&window.XMLHttpRequest?"7.0":a.browser.version;e.css("background-color","transparent");e.css("border-color","transparent");e.css("background-image","none");e.wrapInner('<div class="jbgContentDiv" style="width:auto; height:auto; border: 0px transparent solid; margin: 0 0 0 0; display:block; position:relative;"></div>');var d=e.children(".jbgContentDiv");if(a.browser.msie){if(!window.XMLHttpRequest){e.css("border-color","#fac2f5");e.css("filter","chroma(color=#fac2f5)");if(!e.get(0).hasLayout){e.css("zoom","1")}}var b=document.createElement("div");b.className="jbgCanvasDiv";b.style.position="relative";b.style.display="block";b.style.height="0px";b.style.width="0px";var c=document.createElement("canvas");c.className="jbgCanvas";c.style.height="0px";c.style.width="0px";c.style.position="absolute";c=G_vmlCanvasManager.initElement(c);e.get(0).insertBefore(b,e.get(0).firstChild);b.appendChild(c)}else{e.prepend('<div class="jbgCanvasDiv" style="display:block; position:relative; width:0px; height:0px; padding: 0 0 0 0; margin: 0 0 0 0;"><canvas class="jbgCanvas" style="position:absolute; width:0px; height:0px;" ></canvas></div>')}});return this};a.fn.backgroundCanvasPaint=function(b){a(this).each(function(){var m=a(this);var p=m.children(".jbgCanvasDiv");var n=p.children(".jbgCanvas");var c=m.children(".jbgContentDiv");if(n.length==0){return this}var g=n.get(0);var e=m.outerWidth();var q=m.outerHeight();n.width(e+".4px");n.height(q+".4px");var s=parseFloat(m.css("padding-top"));var f=parseFloat(m.css("padding-bottom"));var i=parseFloat(m.css("padding-left"));var h=parseFloat(m.css("padding-right"));var j=m.css("border-top-width");if(m.css("border-top-style")=="none"){j="0"}var l=m.css("border-bottom-width");if(m.css("border-bottom-style")=="none"){l="0"}var k=m.css("border-left-width");if(m.css("border-left-style")=="none"){k="0"}var o=m.css("border-right-width");if(m.css("border-right-style")=="none"){o="0"}if(a.browser.msie){switch(j){case"thin":j="2";break;case"medium":j="4";break;case"thick":j="6";break}switch(l){case"thin":l="2";break;case"medium":l="4";break;case"thick":l="6";break}switch(k){case"thin":k="2";break;case"medium":k="4";break;case"thick":k="6";break}switch(o){case"thin":o="2";break;case"medium":o="4";break;case"thick":o="6";break}n.children("div").width(e+".4px");n.children("div").height(q+".4px")}j=parseFloat(j);l=parseFloat(l);k=parseFloat(k);o=parseFloat(o);p.css("top",-(j+s)+"px");p.css("left",-(k+i)+"px");if(g.getContext){g.width=e;g.height=q;var r=g.getContext("2d");var d={canvas:g,$canvas:n,$canvasDiv:p,$content:c,$this:m,borderLeft:k,borderRight:o,borderTop:j,borderBottom:l,paddingTop:s,paddingBottom:f,paddingLeft:i,paddingRight:h};b(r,e,q,d)}else{alert("can't create context")}});return this};a.canvasPaint={roundedRect:function(j,k){k=jQuery.extend({width:0,radius:0,border:0,stroke:false,fill:true,adjustRadius:true},k);k=jQuery.extend({x:0,y:0,height:k.width,radiusTL:k.radius,radiusTR:k.radius,radiusBL:k.radius,radiusBR:k.radius,borderL:k.border,borderR:k.border,borderT:k.border,borderB:k.border},k);if(k.adjustRadius){k.radiusTL=Math.max(k.radiusTL-((k.borderT+k.borderL)/2),0);k.radiusTR=Math.max(k.radiusTR-((k.borderT+k.borderR)/2),0);k.radiusBL=Math.max(k.radiusBL-((k.borderB+k.borderL)/2),0);k.radiusBR=Math.max(k.radiusBR-((k.borderB+k.borderR)/2),0)}var f=k.x+k.borderL;var e=k.y+k.borderT;var c=k.width-k.borderL-k.borderR;var i=k.height-k.borderT-k.borderB;var h=k.radiusTL*0.3333;var d=k.radiusTR*0.3333;var b=k.radiusBL*0.3333;var g=k.radiusBR*0.3333;j.beginPath();j.moveTo(f,e+k.radiusTL);j.lineTo(f,e+i-k.radiusBL);j.bezierCurveTo(f,e+i-b,f+b,e+i,f+k.radiusBL,e+i);j.lineTo(f+c-k.radiusBR,e+i);j.bezierCurveTo(f+c-g,e+i,f+c,e+i-g,f+c,e+i-k.radiusBR);j.lineTo(f+c,e+k.radiusTR);j.bezierCurveTo(f+c,e+d,f+c-d,e,f+c-k.radiusTR,e);j.lineTo(f+k.radiusTL,e);j.bezierCurveTo(f+h,e,f,e+h,f,e+k.radiusTL);if(k.stroke){j.stroke()}if(k.fill){j.fill()}},roundTab:function(m,n){n=jQuery.extend({x:0,y:0,width:0,radiusLeft:0,radiusRight:0,bottomRadiusLeft:0,bottomRadiusRight:0,offsetLeft:0,offsetRight:0,border:0,stroke:false,fill:true,adjustRadius:true},n);n=jQuery.extend({height:n.width},n);if(n.adjustRadius){n.radiusLeft=n.radiusLeft-n.border;n.radiusRight=n.radiusRight-n.border;n.bottomRadiusLeft=n.bottomRadiusLeft-n.border;n.bottomRadiusRight=n.bottomRadiusRight-n.border}var k=n.x+n.border;var h=n.y+n.border;var b=n.width-n.border-n.border;var l=n.height-n.border;var c=Math.sqrt((l*l)+(n.offsetLeft*n.offsetLeft));var i=Math.sqrt((l*l)+(n.offsetRight*n.offsetRight));m.beginPath();var j=(n.radiusLeft*n.offsetLeft)/c;var e=(n.radiusLeft*l)/c;var f=n.radiusLeft*0.3333;var g=j*0.3333;var d=e*0.3333;m.moveTo(k+n.offsetLeft-j,h+e);m.bezierCurveTo(k+n.offsetLeft-g,h+d,k+n.offsetLeft+f,h,k+n.offsetLeft+n.radiusLeft,h);var j=(n.radiusRight*n.offsetRight)/i;var e=(n.radiusRight*l)/i;var f=n.radiusRight*0.3333;var g=j*0.3333;var d=e*0.3333;m.lineTo(k+b-n.offsetRight-n.radiusRight,h);m.bezierCurveTo(k+b-n.offsetRight-f,h,k+b-n.offsetRight+g,h+d,k+b-n.offsetRight+j,h+e);var j=(n.bottomRadiusRight*n.offsetRight)/i;var e=(n.bottomRadiusRight*l)/i;var f=n.bottomRadiusRight*0.3333;var g=j*0.3333;var d=e*0.3333;m.lineTo(k+b-j,h+l-e);m.bezierCurveTo(k+b-g,h+l-d,k+b+f,h+l,k+b+n.bottomRadiusRight,h+l);var j=(n.bottomRadiusLeft*n.offsetLeft)/c;var e=(n.bottomRadiusLeft*l)/c;var f=n.bottomRadiusLeft*0.3333;var g=j*0.3333;var d=e*0.3333;m.lineTo(k-n.bottomRadiusLeft,h+l);m.bezierCurveTo(k-f,h+l,k+g,h+l-d,k+j,h+l-e);if(n.stroke){m.stroke()}if(n.fill){m.fill()}}}})(jQuery);